---
about_this_resource_text: ''
course_id: 6-004-computation-structures-spring-2017
embedded_media:
- id: Video-YouTube-Stream
  media_location: MpJe7SMzi0E
  parent_uid: 8a57d8fba401a0994713540d748d2ae4
  title: Video-YouTube-Stream
  type: Video
  uid: aba92b300406ba671a985d8359105230
- id: 3Play-3Play YouTube id-Stream
  media_location: MpJe7SMzi0E
  parent_uid: 8a57d8fba401a0994713540d748d2ae4
  title: 3Play-3Play YouTube id
  type: 3Play
  uid: bd50e76869cf5a91eb69ed71607c5f55
- id: MpJe7SMzi0E.srt
  parent_uid: 8a57d8fba401a0994713540d748d2ae4
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-004-computation-structures-spring-2017/c7/c7s2/c7s2v4/circuit-interleaving-7-08-/MpJe7SMzi0E.srt
  title: 3play caption file
  type: null
  uid: eab448143fc578df1d2c46a4dfd364dc
- id: MpJe7SMzi0E.pdf
  parent_uid: 8a57d8fba401a0994713540d748d2ae4
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-004-computation-structures-spring-2017/c7/c7s2/c7s2v4/circuit-interleaving-7-08-/MpJe7SMzi0E.pdf
  title: 3play pdf file
  type: null
  uid: cd60ebd29695b2e843c6d50c0c57bb65
- id: Caption-3Play YouTube id-SRT
  parent_uid: 8a57d8fba401a0994713540d748d2ae4
  title: Caption-3Play YouTube id-SRT-English - US
  type: Caption
  uid: 6c19b00ea59c50faea97361467c4dcfb
- id: Transcript-3Play YouTube id-PDF
  parent_uid: 8a57d8fba401a0994713540d748d2ae4
  title: Transcript-3Play YouTube id-PDF-English - US
  type: Transcript
  uid: 508e153ce363a8f50df6c2dcbaade99b
- id: Thumbnail-YouTube-JPG
  media_location: https://img.youtube.com/vi/MpJe7SMzi0E/default.jpg
  parent_uid: 8a57d8fba401a0994713540d748d2ae4
  title: Thumbnail-YouTube-JPG
  type: Thumbnail
  uid: 6f86583d6ec26d2c8f14f19924561f6d
- id: Video-InternetArchive-MP4
  media_location: https://archive.org/download/MIT6.004S17/MIT6_004S17_07-02-04_300k.mp4
  parent_uid: 8a57d8fba401a0994713540d748d2ae4
  title: Video-Internet Archive-MP4
  type: Video
  uid: 09e38cb2c07b7f60316aeca6bb186ccf
inline_embed_id: 59262385circuitinterleaving70815060698
layout: video
order_index: null
parent_uid: 72767775243571eae53478b008dd675e
related_resources_text: ''
short_url: circuit-interleaving-7-08-
technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-004-computation-structures-spring-2017/c7/c7s2/c7s2v4/circuit-interleaving-7-08-
template_type: Embed
title: Circuit Interleaving (7:08)
transcript: "<p><span m='729'>6.004</span> <span m='1101'>students</span> <span m='1473'>work</span>\
  \ <span m='1845'>around</span> <span m='2217'>the</span> <span m='2589'>dryer</span>\
  \ <span m='2961'>bottleneck</span> <span m='3333'>by</span> <span m='3705'>finding</span>\
  \ <span m='4077'>a</span> <span m='4449'>laundromat</span> <span m='4821'>that</span>\
  \ <span m='5193'>has</span> <span m='5565'>two</span> <span m='5937'>dryers</span>\
  \ <span m='6310'>for</span> <span m='6856'>every</span> <span m='7403'>washer.</span>\
  \ </p><p><span m='7950'>Looking</span> <span m='8309'>at</span> <span m='8668'>the</span>\
  \ <span m='9027'>timeline</span> <span m='9387'>you</span> <span m='9746'>can</span>\
  \ <span m='10105'>see</span> <span m='10464'>the</span> <span m='10824'>plan,</span>\
  \ <span m='11183'>which</span> <span m='11542'>is</span> <span m='11901'>divided</span>\
  \ <span m='12261'>into</span> <span m='12620'>30-minute</span> <span m='12979'>steps.</span>\
  \ </p><p><span m='13339'>The</span> <span m='13729'>washer</span> <span m='14119'>is</span>\
  \ <span m='14509'>in</span> <span m='14899'>use</span> <span m='15289'>every</span>\
  \ <span m='15679'>step,</span> <span m='16069'>producing</span> <span m='16459'>a</span>\
  \ <span m='16849'>newly-washed</span> <span m='17239'>load</span> <span m='17629'>every</span>\
  \ <span m='18019'>30</span> <span m='18409'>minutes.</span> </p><p><span m='18800'>Dryer</span>\
  \ <span m='19156'>usage</span> <span m='19512'>is</span> <span m='19868'>interleaved,</span>\
  \ <span m='20224'>where</span> <span m='20580'>Dryer</span> <span m='20936'>#1</span>\
  \ <span m='21292'>is</span> <span m='21648'>used</span> <span m='22004'>to</span>\
  \ <span m='22360'>dry</span> <span m='22716'>the</span> <span m='23072'>odd-numbered</span>\
  \ <span m='23428'>loads</span> <span m='23784'>and</span> <span m='24140'>Dryer</span>\
  \ <span m='24614'>#2</span> <span m='25088'>is</span> <span m='25563'>used</span>\
  \ <span m='26037'>to</span> <span m='26512'>dry</span> <span m='26986'>the</span>\
  \ <span m='27461'>even-numbered</span> <span m='27935'>loads.</span> </p><p><span\
  \ m='28410'>Once</span> <span m='28762'>started,</span> <span m='29115'>a</span>\
  \ <span m='29467'>dryer</span> <span m='29820'>runs</span> <span m='30172'>for</span>\
  \ <span m='30525'>a</span> <span m='30877'>duration</span> <span m='31230'>of</span>\
  \ <span m='31582'>two</span> <span m='31935'>steps,</span> <span m='32287'>a</span>\
  \ <span m='32640'>total</span> <span m='32992'>of</span> <span m='33345'>60</span>\
  \ <span m='33697'>minutes.</span> </p><p><span m='34050'>Since</span> <span m='34320'>the</span>\
  \ <span m='34591'>dryers</span> <span m='34861'>run</span> <span m='35132'>on</span>\
  \ <span m='35402'>a</span> <span m='35673'>staggered</span> <span m='35943'>schedule,</span>\
  \ <span m='36214'>the</span> <span m='36485'>system</span> <span m='36755'>as</span>\
  \ <span m='37026'>a</span> <span m='37296'>whole</span> <span m='37567'>produces</span>\
  \ <span m='37837'>a</span> <span m='38108'>load</span> <span m='38378'>of</span>\
  \ <span m='38649'>clean,</span> <span m='38920'>dry</span> <span m='39532'>laundry</span>\
  \ <span m='40144'>every</span> <span m='40756'>30</span> <span m='41368'>minutes.</span>\
  \ </p><p><span m='41980'>The</span> <span m='42277'>steady-state</span> <span m='42575'>throughput</span>\
  \ <span m='42872'>is</span> <span m='43170'>1</span> <span m='43467'>load</span>\
  \ <span m='43765'>of</span> <span m='44063'>laundry</span> <span m='44360'>every</span>\
  \ <span m='44658'>30</span> <span m='44955'>minutes</span> <span m='45253'>and</span>\
  \ <span m='45551'>the</span> <span m='45848'>latency</span> <span m='46146'>for</span>\
  \ <span m='46443'>a</span> <span m='46741'>particular</span> <span m='47039'>load</span>\
  \ <span m='47579'>of</span> <span m='48119'>laundry</span> <span m='48659'>is</span>\
  \ <span m='49199'>90</span> <span m='49739'>minutes.</span> </p><p><span m='50280'>And</span>\
  \ <span m='50647'>now</span> <span m='51015'>here's</span> <span m='51383'>the</span>\
  \ <span m='51751'>take-home</span> <span m='52118'>message</span> <span m='52486'>from</span>\
  \ <span m='52854'>this</span> <span m='53222'>example.</span> </p><p><span m='53590'>Consider</span>\
  \ <span m='54072'>the</span> <span m='54555'>operation</span> <span m='55038'>of</span>\
  \ <span m='55521'>the</span> <span m='56004'>two-dryer</span> <span m='56487'>system.</span>\
  \ </p><p><span m='56970'>Even</span> <span m='57420'>though</span> <span m='57871'>the</span>\
  \ <span m='58322'>component</span> <span m='58773'>dryers</span> <span m='59224'>themselves</span>\
  \ <span m='59674'>aren't</span> <span m='60125'>pipelined,</span> <span m='60576'>the</span>\
  \ <span m='61027'>two-dryer</span> <span m='61478'>interleaving</span> <span m='61929'>system</span>\
  \ <span m='62238'>is</span> <span m='62547'>acting</span> <span m='62857'>like</span>\
  \ <span m='63166'>a</span> <span m='63476'>2-stage</span> <span m='63785'>pipeline</span>\
  \ <span m='64095'>with</span> <span m='64404'>a</span> <span m='64714'>clock</span>\
  \ <span m='65023'>period</span> <span m='65333'>of</span> <span m='65642'>30</span>\
  \ <span m='65952'>minutes</span> <span m='66261'>and</span> <span m='66571'>a</span>\
  \ <span m='66880'>latency</span> <span m='67190'>of</span> <span m='67710'>60</span>\
  \ <span m='68230'>minutes.</span> </p><p><span m='68750'>In</span> <span m='69142'>other</span>\
  \ <span m='69535'>words,</span> <span m='69928'>by</span> <span m='70321'>interleaving</span>\
  \ <span m='70714'>the</span> <span m='71107'>operation</span> <span m='71500'>of</span>\
  \ <span m='71892'>2</span> <span m='72285'>unpipelined</span> <span m='72678'>components</span>\
  \ <span m='73071'>we</span> <span m='73464'>can</span> <span m='73857'>achieve</span>\
  \ <span m='74250'>the</span> <span m='74895'>effect</span> <span m='75540'>of</span>\
  \ <span m='76185'>a</span> <span m='76830'>2-stage</span> <span m='77475'>pipeline.</span>\
  \ </p><p><span m='78120'>Returning</span> <span m='78446'>to</span> <span m='78772'>the</span>\
  \ <span m='79098'>example</span> <span m='79424'>of</span> <span m='79750'>the</span>\
  \ <span m='80076'>previous</span> <span m='80402'>section,</span> <span m='80728'>we</span>\
  \ <span m='81054'>couldn't</span> <span m='81380'>improve</span> <span m='81706'>the</span>\
  \ <span m='82032'>throughput</span> <span m='82358'>of</span> <span m='82684'>our</span>\
  \ <span m='83010'>pipelined</span> <span m='83386'>system</span> <span m='83763'>past</span>\
  \ <span m='84139'>1/8</span> <span m='84516'>ns</span> <span m='84893'>because</span>\
  \ <span m='85269'>the</span> <span m='85646'>minimum</span> <span m='86022'>clock</span>\
  \ <span m='86399'>period</span> <span m='86776'>was</span> <span m='87152'>set</span>\
  \ <span m='87529'>by</span> <span m='87905'>the</span> <span m='88282'>8</span>\
  \ <span m='88659'>ns</span> <span m='89035'>latency</span> <span m='89412'>of</span>\
  \ <span m='89789'>the</span> <span m='90386'>C</span> <span m='90983'>module.</span>\
  \ </p><p><span m='91580'>To</span> <span m='91867'>improve</span> <span m='92155'>the</span>\
  \ <span m='92442'>throughput</span> <span m='92730'>further</span> <span m='93017'>we</span>\
  \ <span m='93305'>either</span> <span m='93592'>need</span> <span m='93880'>to</span>\
  \ <span m='94167'>find</span> <span m='94455'>a</span> <span m='94742'>pipelined</span>\
  \ <span m='95030'>version</span> <span m='95317'>of</span> <span m='95605'>the</span>\
  \ <span m='95892'>C</span> <span m='96180'>component</span> <span m='96548'>or</span>\
  \ <span m='96917'>use</span> <span m='97285'>an</span> <span m='97654'>interleaving</span>\
  \ <span m='98022'>strategy</span> <span m='98391'>to</span> <span m='98760'>achieve</span>\
  \ <span m='99128'>the</span> <span m='99497'>effect</span> <span m='99865'>of</span>\
  \ <span m='100234'>a</span> <span m='100602'>2-stage</span> <span m='100971'>pipeline</span>\
  \ <span m='101340'>using</span> <span m='101748'>two</span> <span m='102157'>instances</span>\
  \ <span m='102566'>of</span> <span m='102975'>the</span> <span m='103383'>unpipelined</span>\
  \ <span m='103792'>C</span> <span m='104201'>component.</span> </p><p><span m='104610'>Let's</span>\
  \ <span m='105516'>try</span> <span m='106423'>that\u2026</span> <span m='107330'>Here's</span>\
  \ <span m='107682'>a</span> <span m='108035'>circuit</span> <span m='108388'>for</span>\
  \ <span m='108741'>a</span> <span m='109094'>general-purpose</span> <span m='109447'>two-way</span>\
  \ <span m='109800'>interleaver,</span> <span m='110152'>using,</span> <span m='110505'>in</span>\
  \ <span m='110858'>this</span> <span m='111211'>case,</span> <span m='111564'>two</span>\
  \ <span m='111917'>copies</span> <span m='112270'>of</span> <span m='112881'>the</span>\
  \ <span m='113492'>unpipelined</span> <span m='114103'>C</span> <span m='114715'>component,</span>\
  \ <span m='115326'>C_0</span> <span m='115937'>and</span> <span m='116548'>C_1.</span>\
  \ </p><p><span m='117160'>The</span> <span m='117436'>input</span> <span m='117712'>for</span>\
  \ <span m='117988'>each</span> <span m='118265'>C</span> <span m='118541'>component</span>\
  \ <span m='118817'>comes</span> <span m='119093'>from</span> <span m='119370'>a</span>\
  \ <span m='119646'>D-latch,</span> <span m='119922'>which</span> <span m='120198'>has</span>\
  \ <span m='120475'>the</span> <span m='120751'>job</span> <span m='121027'>of</span>\
  \ <span m='121303'>capturing</span> <span m='121580'>and</span> <span m='122062'>holding</span>\
  \ <span m='122544'>the</span> <span m='123026'>input</span> <span m='123508'>value.</span>\
  \ </p><p><span m='123990'>There's</span> <span m='124293'>also</span> <span m='124597'>a</span>\
  \ <span m='124900'>multiplexer</span> <span m='125204'>to</span> <span m='125507'>select</span>\
  \ <span m='125811'>which</span> <span m='126114'>C-component</span> <span m='126418'>output</span>\
  \ <span m='126721'>will</span> <span m='127025'>be</span> <span m='127328'>captured</span>\
  \ <span m='127632'>by</span> <span m='127935'>the</span> <span m='128239'>output</span>\
  \ <span m='129309'>register.</span> </p><p><span m='130380'>In</span> <span m='130674'>the</span>\
  \ <span m='130969'>lower</span> <span m='131264'>left-hand</span> <span m='131558'>corner</span>\
  \ <span m='131853'>of</span> <span m='132148'>the</span> <span m='132442'>circuit</span>\
  \ <span m='132737'>is</span> <span m='133032'>a</span> <span m='133327'>very</span>\
  \ <span m='133621'>simple</span> <span m='133916'>2-state</span> <span m='134211'>FSM</span>\
  \ <span m='134505'>with</span> <span m='134800'>one</span> <span m='135095'>state</span>\
  \ <span m='135390'>bit.</span> </p><p><span m='136690'>The</span> <span m='137023'>next-state</span>\
  \ <span m='137357'>logic</span> <span m='137690'>is</span> <span m='138024'>a</span>\
  \ <span m='138357'>single</span> <span m='138691'>inverter,</span> <span m='139025'>which</span>\
  \ <span m='139358'>causes</span> <span m='139692'>the</span> <span m='140025'>state</span>\
  \ <span m='140359'>to</span> <span m='140692'>alternate</span> <span m='141026'>between</span>\
  \ <span m='141360'>0</span> <span m='141914'>and</span> <span m='142468'>1</span>\
  \ <span m='143022'>on</span> <span m='143576'>successive</span> <span m='144130'>clock</span>\
  \ <span m='144684'>cycles.</span> </p><p><span m='145239'>This</span> <span m='145643'>timing</span>\
  \ <span m='146047'>diagram</span> <span m='146451'>shows</span> <span m='146855'>how</span>\
  \ <span m='147259'>the</span> <span m='147663'>state</span> <span m='148067'>bit</span>\
  \ <span m='148471'>changes</span> <span m='148875'>right</span> <span m='149279'>after</span>\
  \ <span m='149683'>each</span> <span m='150087'>rising</span> <span m='150491'>clock</span>\
  \ <span m='150895'>edge.</span> </p><p><span m='151299'>To</span> <span m='151571'>help</span>\
  \ <span m='151843'>us</span> <span m='152115'>understand</span> <span m='152387'>the</span>\
  \ <span m='152659'>circuit,</span> <span m='152931'>we'll</span> <span m='153203'>look</span>\
  \ <span m='153475'>at</span> <span m='153747'>some</span> <span m='154019'>signal</span>\
  \ <span m='154291'>waveforms</span> <span m='154563'>to</span> <span m='154835'>illustrate</span>\
  \ <span m='155107'>its</span> <span m='155379'>operation.</span> </p><p><span m='156400'>To</span>\
  \ <span m='156762'>start,</span> <span m='157125'>here</span> <span m='157488'>are</span>\
  \ <span m='157851'>the</span> <span m='158213'>waveforms</span> <span m='158576'>for</span>\
  \ <span m='158939'>the</span> <span m='159302'>CLK</span> <span m='159665'>signal</span>\
  \ <span m='160027'>and</span> <span m='160390'>our</span> <span m='160753'>FSM</span>\
  \ <span m='161116'>state</span> <span m='161478'>bit</span> <span m='161841'>from</span>\
  \ <span m='162204'>the</span> <span m='162567'>previous</span> <span m='162930'>slide.</span>\
  \ </p><p><span m='163930'>A</span> <span m='164282'>new</span> <span m='164634'>X</span>\
  \ <span m='164987'>input</span> <span m='165339'>arrives</span> <span m='165691'>from</span>\
  \ <span m='166044'>the</span> <span m='166396'>previous</span> <span m='166748'>stage</span>\
  \ <span m='167101'>just</span> <span m='167453'>after</span> <span m='167805'>the</span>\
  \ <span m='168158'>rising</span> <span m='168510'>edge</span> <span m='168862'>of</span>\
  \ <span m='169215'>the</span> <span m='169567'>clock.</span> </p><p><span m='169920'>Next,</span>\
  \ <span m='170411'>let's</span> <span m='170902'>follow</span> <span m='171393'>the</span>\
  \ <span m='171884'>operation</span> <span m='172375'>of</span> <span m='172866'>the</span>\
  \ <span m='173357'>C_0</span> <span m='173848'>component.</span> </p><p><span m='174340'>Its</span>\
  \ <span m='174682'>input</span> <span m='175024'>latch</span> <span m='175366'>is</span>\
  \ <span m='175708'>open</span> <span m='176051'>when</span> <span m='176393'>FSM</span>\
  \ <span m='176735'>Q</span> <span m='177077'>is</span> <span m='177420'>low,</span>\
  \ <span m='177762'>so</span> <span m='178104'>the</span> <span m='178446'>newly</span>\
  \ <span m='178788'>arriving</span> <span m='179131'>X_1</span> <span m='179473'>input</span>\
  \ <span m='179815'>passes</span> <span m='180157'>through</span> <span m='180500'>the</span>\
  \ <span m='180862'>latch</span> <span m='181225'>and</span> <span m='181588'>C_0</span>\
  \ <span m='181951'>can</span> <span m='182314'>begin</span> <span m='182677'>its</span>\
  \ <span m='183040'>computation,</span> <span m='183403'>producing</span> <span m='183766'>its</span>\
  \ <span m='184129'>result</span> <span m='184492'>at</span> <span m='184855'>the</span>\
  \ <span m='185218'>end</span> <span m='185581'>of</span> <span m='185944'>clock</span>\
  \ <span m='186307'>cycle</span> <span m='186670'>#2.</span> </p><p><span m='188420'>Note</span>\
  \ <span m='188719'>that</span> <span m='189018'>the</span> <span m='189317'>C_0</span>\
  \ <span m='189617'>input</span> <span m='189916'>latch</span> <span m='190215'>closes</span>\
  \ <span m='190515'>at</span> <span m='190814'>the</span> <span m='191113'>beginning</span>\
  \ <span m='191413'>of</span> <span m='191712'>the</span> <span m='192011'>second</span>\
  \ <span m='192311'>clock</span> <span m='192610'>cycle,</span> <span m='192909'>holding</span>\
  \ <span m='193209'>the</span> <span m='193651'>X_1</span> <span m='194093'>input</span>\
  \ <span m='194535'>value</span> <span m='194977'>stable</span> <span m='195420'>even</span>\
  \ <span m='195862'>though</span> <span m='196304'>the</span> <span m='196746'>X</span>\
  \ <span m='197188'>input</span> <span m='197631'>is</span> <span m='198073'>starting</span>\
  \ <span m='198515'>to</span> <span m='198957'>change.</span> </p><p><span m='199400'>The</span>\
  \ <span m='199696'>effect</span> <span m='199992'>is</span> <span m='200288'>that</span>\
  \ <span m='200585'>C_0</span> <span m='200881'>has</span> <span m='201177'>a</span>\
  \ <span m='201474'>valid</span> <span m='201770'>and</span> <span m='202066'>stable</span>\
  \ <span m='202363'>input</span> <span m='202659'>for</span> <span m='202955'>the</span>\
  \ <span m='203252'>better</span> <span m='203548'>part</span> <span m='203844'>of</span>\
  \ <span m='204141'>2</span> <span m='204437'>clock</span> <span m='204733'>cycles</span>\
  \ <span m='205030'>giving</span> <span m='205610'>it</span> <span m='206190'>enough</span>\
  \ <span m='206770'>time</span> <span m='207350'>to</span> <span m='207930'>compute</span>\
  \ <span m='208510'>its</span> <span m='209090'>result.</span> </p><p><span m='209670'>The</span>\
  \ <span m='210047'>C_1</span> <span m='210424'>waveforms</span> <span m='210801'>are</span>\
  \ <span m='211178'>similar,</span> <span m='211555'>just</span> <span m='211933'>shifted</span>\
  \ <span m='212310'>by</span> <span m='212687'>one</span> <span m='213064'>clock</span>\
  \ <span m='213441'>cycle.</span> </p><p><span m='213819'>C_1's</span> <span m='214173'>input</span>\
  \ <span m='214528'>latch</span> <span m='214882'>is</span> <span m='215237'>open</span>\
  \ <span m='215591'>when</span> <span m='215946'>FSM</span> <span m='216300'>Q</span>\
  \ <span m='216655'>is</span> <span m='217009'>high,</span> <span m='217364'>so</span>\
  \ <span m='217718'>the</span> <span m='218073'>newly</span> <span m='218427'>arriving</span>\
  \ <span m='218782'>X_2</span> <span m='219136'>input</span> <span m='219491'>passes</span>\
  \ <span m='219845'>through</span> <span m='220200'>the</span> <span m='220555'>latch</span>\
  \ <span m='220910'>and</span> <span m='221265'>C_1</span> <span m='221620'>can</span>\
  \ <span m='221976'>begin</span> <span m='222331'>its</span> <span m='222686'>computation,</span>\
  \ <span m='223041'>producing</span> <span m='223397'>its</span> <span m='223752'>result</span>\
  \ <span m='224107'>at</span> <span m='224462'>the</span> <span m='224818'>end</span>\
  \ <span m='225173'>of</span> <span m='225528'>clock</span> <span m='225883'>cycle</span>\
  \ <span m='226239'>#3.</span> </p><p><span m='228400'>Now</span> <span m='228660'>let's</span>\
  \ <span m='228920'>check</span> <span m='229180'>the</span> <span m='229440'>output</span>\
  \ <span m='229700'>of</span> <span m='229960'>the</span> <span m='230220'>multiplexer.</span>\
  \ </p><p><span m='230480'>When</span> <span m='230838'>FSM</span> <span m='231197'>Q</span>\
  \ <span m='231556'>is</span> <span m='231915'>high,</span> <span m='232274'>it</span>\
  \ <span m='232633'>selects</span> <span m='232992'>the</span> <span m='233351'>value</span>\
  \ <span m='233710'>from</span> <span m='234069'>C_0</span> <span m='234428'>and</span>\
  \ <span m='234787'>when</span> <span m='235146'>FSM</span> <span m='235505'>Q</span>\
  \ <span m='235864'>is</span> <span m='236223'>low,</span> <span m='236582'>it</span>\
  \ <span m='236941'>selects</span> <span m='237300'>the</span> <span m='237659'>value</span>\
  \ <span m='238292'>from</span> <span m='238926'>C_1.</span> </p><p><span m='239560'>We</span>\
  \ <span m='239896'>can</span> <span m='240233'>see</span> <span m='240570'>that</span>\
  \ <span m='240906'>happening</span> <span m='241243'>in</span> <span m='241580'>the</span>\
  \ <span m='241916'>waveform</span> <span m='242253'>shown.</span> </p><p><span m='242590'>Finally,</span>\
  \ <span m='242912'>at</span> <span m='243235'>the</span> <span m='243558'>rising</span>\
  \ <span m='243880'>edge</span> <span m='244203'>of</span> <span m='244526'>the</span>\
  \ <span m='244848'>clock,</span> <span m='245171'>the</span> <span m='245494'>output</span>\
  \ <span m='245816'>register</span> <span m='246139'>captures</span> <span m='246462'>the</span>\
  \ <span m='246784'>value</span> <span m='247107'>on</span> <span m='247430'>its</span>\
  \ <span m='247806'>input</span> <span m='248182'>and</span> <span m='248558'>holds</span>\
  \ <span m='248934'>it</span> <span m='249310'>stable</span> <span m='249686'>for</span>\
  \ <span m='250062'>the</span> <span m='250438'>remainder</span> <span m='250814'>of</span>\
  \ <span m='251190'>the</span> <span m='251566'>clock</span> <span m='251942'>cycle.</span>\
  \ </p><p><span m='252319'>The</span> <span m='252685'>behavior</span> <span m='253052'>of</span>\
  \ <span m='253419'>the</span> <span m='253785'>interleaving</span> <span m='254152'>circuit</span>\
  \ <span m='254519'>is</span> <span m='254886'>like</span> <span m='255252'>a</span>\
  \ <span m='255619'>2-stage</span> <span m='255986'>pipeline:</span> <span m='256353'>the</span>\
  \ <span m='256719'>input</span> <span m='257086'>value</span> <span m='257453'>arriving</span>\
  \ <span m='257820'>in</span> <span m='258131'>cycle</span> <span m='258443'>i</span>\
  \ <span m='258755'>is</span> <span m='259067'>processed</span> <span m='259379'>over</span>\
  \ <span m='259691'>two</span> <span m='260003'>clock</span> <span m='260315'>cycles</span>\
  \ <span m='260626'>and</span> <span m='260938'>the</span> <span m='261250'>result</span>\
  \ <span m='261562'>output</span> <span m='261874'>becomes</span> <span m='262186'>available</span>\
  \ <span m='262498'>on</span> <span m='262810'>cycle</span> <span m='264265'>i+2.</span>\
  \ </p><p><span m='265720'>What</span> <span m='266082'>about</span> <span m='266444'>the</span>\
  \ <span m='266806'>clock</span> <span m='267168'>period</span> <span m='267531'>for</span>\
  \ <span m='267893'>the</span> <span m='268255'>interleaving</span> <span m='268617'>system?</span>\
  \ </p><p><span m='268980'>Well,</span> <span m='269308'>there</span> <span m='269637'>is</span>\
  \ <span m='269966'>some</span> <span m='270295'>time</span> <span m='270623'>lost</span>\
  \ <span m='270952'>to</span> <span m='271281'>the</span> <span m='271610'>propagation</span>\
  \ <span m='271938'>delays</span> <span m='272267'>of</span> <span m='272596'>the</span>\
  \ <span m='272925'>upstream</span> <span m='273253'>pipeline</span> <span m='273582'>register</span>\
  \ <span m='273911'>that</span> <span m='274240'>supplies</span> <span m='274597'>the</span>\
  \ <span m='274954'>X</span> <span m='275312'>input,</span> <span m='275669'>the</span>\
  \ <span m='276026'>internal</span> <span m='276384'>latches</span> <span m='276741'>and</span>\
  \ <span m='277098'>multiplexer,</span> <span m='277456'>and</span> <span m='277813'>the</span>\
  \ <span m='278170'>setup</span> <span m='278528'>time</span> <span m='278885'>of</span>\
  \ <span m='279242'>the</span> <span m='279600'>output</span> <span m='280135'>register.</span>\
  \ </p><p><span m='280670'>So</span> <span m='280988'>the</span> <span m='281307'>clock</span>\
  \ <span m='281626'>cycle</span> <span m='281945'>has</span> <span m='282264'>to</span>\
  \ <span m='282582'>be</span> <span m='282901'>just</span> <span m='283220'>a</span>\
  \ <span m='283539'>little</span> <span m='283858'>bit</span> <span m='284177'>longer</span>\
  \ <span m='284495'>than</span> <span m='284814'>half</span> <span m='285133'>the</span>\
  \ <span m='285452'>propagation</span> <span m='285771'>delay</span> <span m='286090'>of</span>\
  \ <span m='286520'>the</span> <span m='286950'>C</span> <span m='287380'>module.</span>\
  \ </p><p><span m='287810'>We</span> <span m='288086'>can</span> <span m='288362'>treat</span>\
  \ <span m='288639'>the</span> <span m='288915'>interleaving</span> <span m='289192'>circuit</span>\
  \ <span m='289468'>as</span> <span m='289745'>a</span> <span m='290021'>2-stage</span>\
  \ <span m='290297'>pipeline,</span> <span m='290574'>consuming</span> <span m='290850'>an</span>\
  \ <span m='291127'>input</span> <span m='291403'>value</span> <span m='291680'>every</span>\
  \ <span m='292119'>clock</span> <span m='292558'>cycle</span> <span m='292997'>and</span>\
  \ <span m='293436'>producing</span> <span m='293875'>a</span> <span m='294314'>result</span>\
  \ <span m='294753'>two</span> <span m='295192'>cycles</span> <span m='295631'>later.</span>\
  \ </p><p><span m='296070'>When</span> <span m='296427'>incorporating</span> <span\
  \ m='296784'>an</span> <span m='297141'>N-way</span> <span m='297498'>interleaved</span>\
  \ <span m='297855'>component</span> <span m='298212'>in</span> <span m='298570'>our</span>\
  \ <span m='298927'>pipeline</span> <span m='299284'>diagrams,</span> <span m='299641'>we</span>\
  \ <span m='299998'>treat</span> <span m='300355'>it</span> <span m='300712'>just</span>\
  \ <span m='301070'>like</span> <span m='301690'>a</span> <span m='302310'>N-stage</span>\
  \ <span m='302930'>pipeline.</span> </p><p><span m='303550'>So</span> <span m='303918'>N</span>\
  \ <span m='304286'>of</span> <span m='304655'>our</span> <span m='305023'>pipelining</span>\
  \ <span m='305391'>contours</span> <span m='305760'>have</span> <span m='306128'>to</span>\
  \ <span m='306496'>pass</span> <span m='306865'>through</span> <span m='307233'>the</span>\
  \ <span m='307601'>component.</span> </p><p><span m='307970'>Here</span> <span m='308417'>we've</span>\
  \ <span m='308865'>replaced</span> <span m='309313'>the</span> <span m='309760'>slow</span>\
  \ <span m='310208'>unpipelined</span> <span m='310656'>C</span> <span m='311103'>component</span>\
  \ <span m='311551'>with</span> <span m='311999'>a</span> <span m='312446'>2-way</span>\
  \ <span m='312894'>interleaved</span> <span m='313342'>C-prime</span> <span m='313790'>component.</span>\
  \ </p><p><span m='314850'>We</span> <span m='315290'>can</span> <span m='315730'>follow</span>\
  \ <span m='316170'>our</span> <span m='316610'>process</span> <span m='317050'>for</span>\
  \ <span m='317490'>drawing</span> <span m='317930'>pipeline</span> <span m='318370'>contours.</span>\
  \ </p><p><span m='318810'>First</span> <span m='319184'>we</span> <span m='319558'>draw</span>\
  \ <span m='319933'>a</span> <span m='320307'>contour</span> <span m='320682'>across</span>\
  \ <span m='321056'>all</span> <span m='321431'>the</span> <span m='321805'>outputs.</span>\
  \ </p><p><span m='322180'>Then</span> <span m='322576'>we</span> <span m='322972'>add</span>\
  \ <span m='323369'>contours,</span> <span m='323765'>ensuring</span> <span m='324162'>that</span>\
  \ <span m='324558'>two</span> <span m='324955'>of</span> <span m='325351'>them</span>\
  \ <span m='325747'>pass</span> <span m='326144'>through</span> <span m='326540'>the</span>\
  \ <span m='326937'>C-prime</span> <span m='327333'>component.</span> </p><p><span\
  \ m='327730'>Then</span> <span m='328112'>we</span> <span m='328495'>add</span>\
  \ <span m='328878'>pipeline</span> <span m='329260'>registers</span> <span m='329643'>at</span>\
  \ <span m='330026'>the</span> <span m='330408'>intersections</span> <span m='330791'>of</span>\
  \ <span m='331174'>the</span> <span m='331556'>contours</span> <span m='331939'>with</span>\
  \ <span m='332322'>the</span> <span m='332704'>signal</span> <span m='333087'>connections.</span>\
  \ </p><p><span m='333470'>We</span> <span m='333790'>see</span> <span m='334111'>that</span>\
  \ <span m='334432'>the</span> <span m='334752'>contours</span> <span m='335073'>passing</span>\
  \ <span m='335394'>through</span> <span m='335714'>C-prime</span> <span m='336035'>have</span>\
  \ <span m='336356'>caused</span> <span m='336676'>extra</span> <span m='336997'>pipeline</span>\
  \ <span m='337318'>registers</span> <span m='337638'>to</span> <span m='337959'>be</span>\
  \ <span m='338280'>added</span> <span m='338756'>on</span> <span m='339233'>the</span>\
  \ <span m='339710'>other</span> <span m='340186'>inputs</span> <span m='340663'>to</span>\
  \ <span m='341140'>the</span> <span m='341616'>F</span> <span m='342093'>module,</span>\
  \ <span m='342570'>accommodating</span> <span m='343046'>the</span> <span m='343523'>2-cycle</span>\
  \ <span m='344000'>delay</span> <span m='344476'>through</span> <span m='344953'>C-prime.</span>\
  \ </p><p><span m='345430'>Somewhat</span> <span m='345823'>optimistically</span>\
  \ <span m='346217'>we've</span> <span m='346610'>specified</span> <span m='347004'>the</span>\
  \ <span m='347397'>C-prime</span> <span m='347791'>minimum</span> <span m='348185'>t_CLK</span>\
  \ <span m='348578'>to</span> <span m='348972'>be</span> <span m='349365'>4</span>\
  \ <span m='349759'>ns,</span> <span m='350152'>so</span> <span m='350546'>that</span>\
  \ <span m='350940'>means</span> <span m='351245'>that</span> <span m='351551'>the</span>\
  \ <span m='351856'>slow</span> <span m='352162'>component</span> <span m='352468'>which</span>\
  \ <span m='352773'>determines</span> <span m='353079'>the</span> <span m='353385'>system's</span>\
  \ <span m='353690'>clock</span> <span m='353996'>period</span> <span m='354301'>is</span>\
  \ <span m='354607'>now</span> <span m='354913'>the</span> <span m='355218'>F</span>\
  \ <span m='355524'>module,</span> <span m='355830'>with</span> <span m='356398'>a</span>\
  \ <span m='356967'>propagation</span> <span m='357535'>delay</span> <span m='358104'>of</span>\
  \ <span m='358672'>5</span> <span m='359241'>ns.</span> </p><p><span m='359810'>So</span>\
  \ <span m='360158'>the</span> <span m='360507'>throughput</span> <span m='360856'>of</span>\
  \ <span m='361205'>our</span> <span m='361554'>new</span> <span m='361903'>pipelined</span>\
  \ <span m='362252'>circuit</span> <span m='362601'>is</span> <span m='362950'>1</span>\
  \ <span m='363298'>output</span> <span m='363647'>every</span> <span m='363996'>5</span>\
  \ <span m='364345'>ns,</span> <span m='364694'>and</span> <span m='365043'>with</span>\
  \ <span m='365392'>5</span> <span m='365741'>contours,</span> <span m='366090'>it's</span>\
  \ <span m='366479'>a</span> <span m='366868'>5-pipeline</span> <span m='367258'>so</span>\
  \ <span m='367647'>the</span> <span m='368036'>latency</span> <span m='368426'>is</span>\
  \ <span m='368815'>5</span> <span m='369204'>times</span> <span m='369594'>the</span>\
  \ <span m='369983'>clock</span> <span m='370372'>period</span> <span m='370762'>or</span>\
  \ <span m='371151'>25</span> <span m='371540'>ns.</span> </p><p><span m='371930'>By</span>\
  \ <span m='372331'>running</span> <span m='372733'>pipelined</span> <span m='373134'>systems</span>\
  \ <span m='373536'>in</span> <span m='373937'>parallel</span> <span m='374339'>we</span>\
  \ <span m='374740'>can</span> <span m='375142'>continue</span> <span m='375543'>to</span>\
  \ <span m='375945'>increase</span> <span m='376346'>the</span> <span m='376748'>throughput.</span>\
  \ </p><p><span m='377150'>Here</span> <span m='377448'>we</span> <span m='377746'>show</span>\
  \ <span m='378044'>a</span> <span m='378342'>laundry</span> <span m='378641'>with</span>\
  \ <span m='378939'>2</span> <span m='379237'>washers</span> <span m='379535'>and</span>\
  \ <span m='379834'>4</span> <span m='380132'>dryers,</span> <span m='380430'>essentially</span>\
  \ <span m='380728'>just</span> <span m='381027'>two</span> <span m='381325'>copies</span>\
  \ <span m='381623'>of</span> <span m='381921'>the</span> <span m='382220'>1-washer,</span>\
  \ <span m='382818'>2-dryer</span> <span m='383416'>system</span> <span m='384014'>shown</span>\
  \ <span m='384612'>earlier.</span> </p><p><span m='385210'>The</span> <span m='385530'>operation</span>\
  \ <span m='385850'>is</span> <span m='386170'>as</span> <span m='386490'>described</span>\
  \ <span m='386810'>before,</span> <span m='387130'>except</span> <span m='387450'>that</span>\
  \ <span m='387770'>at</span> <span m='388090'>each</span> <span m='388410'>step</span>\
  \ <span m='388730'>the</span> <span m='389050'>system</span> <span m='389370'>produces</span>\
  \ <span m='389690'>and</span> <span m='390010'>consumes</span> <span m='390614'>two</span>\
  \ <span m='391218'>loads</span> <span m='391822'>of</span> <span m='392426'>laundry.</span>\
  \ </p><p><span m='393030'>So</span> <span m='393356'>the</span> <span m='393683'>throughput</span>\
  \ <span m='394010'>is</span> <span m='394337'>2</span> <span m='394664'>loads</span>\
  \ <span m='394991'>every</span> <span m='395317'>30</span> <span m='395644'>minutes</span>\
  \ <span m='395971'>for</span> <span m='396298'>an</span> <span m='396625'>effective</span>\
  \ <span m='396952'>rate</span> <span m='397278'>of</span> <span m='397605'>1</span>\
  \ <span m='397932'>load</span> <span m='398259'>every</span> <span m='398586'>15</span>\
  \ <span m='398913'>minutes.</span> </p><p><span m='399240'>The</span> <span m='399606'>latency</span>\
  \ <span m='399972'>for</span> <span m='400338'>a</span> <span m='400704'>load</span>\
  \ <span m='401070'>hasn't</span> <span m='401436'>changed;</span> <span m='401803'>it's</span>\
  \ <span m='402169'>still</span> <span m='402535'>90</span> <span m='402901'>minutes</span>\
  \ <span m='403267'>per</span> <span m='403633'>load.</span> </p><p><span m='404000'>We've</span>\
  \ <span m='404279'>seen</span> <span m='404558'>that</span> <span m='404837'>even</span>\
  \ <span m='405116'>with</span> <span m='405396'>slow</span> <span m='405675'>components</span>\
  \ <span m='405954'>we</span> <span m='406233'>can</span> <span m='406512'>use</span>\
  \ <span m='406792'>interleaving</span> <span m='407071'>and</span> <span m='407350'>parallelism</span>\
  \ <span m='407629'>to</span> <span m='407909'>continue</span> <span m='408516'>to</span>\
  \ <span m='409124'>increase</span> <span m='409732'>throughput.</span> </p><p><span\
  \ m='410340'>Is</span> <span m='410615'>there</span> <span m='410890'>an</span>\
  \ <span m='411166'>upper</span> <span m='411441'>bound</span> <span m='411717'>on</span>\
  \ <span m='411992'>the</span> <span m='412268'>throughput</span> <span m='412543'>we</span>\
  \ <span m='412819'>can</span> <span m='413094'>achieve?</span> </p><p><span m='413370'>Yes!</span>\
  \ </p><p><span m='414520'>The</span> <span m='414800'>timing</span> <span m='415080'>overhead</span>\
  \ <span m='415360'>of</span> <span m='415640'>the</span> <span m='415920'>pipeline</span>\
  \ <span m='416200'>registers</span> <span m='416480'>and</span> <span m='416760'>interleaving</span>\
  \ <span m='417040'>components</span> <span m='417320'>will</span> <span m='417600'>set</span>\
  \ <span m='417880'>a</span> <span m='418160'>lower</span> <span m='418440'>bound</span>\
  \ <span m='418821'>on</span> <span m='419202'>the</span> <span m='419584'>achievable</span>\
  \ <span m='419965'>clock</span> <span m='420346'>period,</span> <span m='420728'>thus</span>\
  \ <span m='421109'>setting</span> <span m='421490'>an</span> <span m='421872'>upper</span>\
  \ <span m='422253'>bound</span> <span m='422634'>on</span> <span m='423016'>the</span>\
  \ <span m='423397'>achievable</span> <span m='423778'>throughput.</span> </p><p><span\
  \ m='424160'>Sorry,</span> <span m='424513'>no</span> <span m='424866'>infinite</span>\
  \ <span m='425219'>speed-up</span> <span m='425572'>is</span> <span m='425925'>possible</span>\
  \ <span m='426278'>in</span> <span m='426631'>the</span> <span m='426984'>real</span>\
  \ <span m='427337'>world.</span> </p>"
type: course
uid: 8a57d8fba401a0994713540d748d2ae4

---
None